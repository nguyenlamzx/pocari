package com.sff.utils{	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.display.Loader;	import flash.events.Event;	import flash.net.URLLoader;	import flash.net.URLRequest;	import flash.xml.*;	import flash.geom.ColorTransform;		public class LoadingXML extends XMLDocument	{		private var my_root;		private var my_url:String;				public function LoadingXML(m:MovieClip,s:String)		{			my_root=m;			my_url=s;			this.loadXML();		}		private function loadXML():void		{			var loader:URLLoader=new URLLoader();			loader.addEventListener(Event.COMPLETE,completeHandler);						// Se il file XML non è nella stessa cartella di main.fla, allora scrivere la giusta path/url			var request:URLRequest=new URLRequest(my_url);			try 			{				loader.load(request);			} 			catch(error:Error) 			{				trace('Impossibile caricare il documento.');			}		}		private function completeHandler(event:Event):void		{			var loader:URLLoader=URLLoader(event.target);			var result:XML=new XML(loader.data);			var myXML:XMLDocument=new XMLDocument();			myXML.ignoreWhite=true;			myXML.parseXML(result.toXMLString());			var node:XMLNode=myXML.firstChild;			var n:int=int(node.firstChild.childNodes.length);						for(var i:int=0;i<n;i++)			{				my_root.url_array.push(node.firstChild.childNodes[i].attributes['filename']);				my_root.link_array.push(node.firstChild.childNodes[i].attributes['link']);				my_root.target_array.push(node.firstChild.childNodes[i].attributes['target']);				my_root.title_array.push(node.firstChild.childNodes[i].attributes['title']);				my_root.description_array.push(node.firstChild.childNodes[i].attributes['description']);										}						my_root.preSetUp();		}	}}